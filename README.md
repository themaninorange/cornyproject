Predicting Crop Yields with Multivariate Autocorrelation
==========

Our goal is to use Multivariate Autocorrelation to make forecasts of field conditions.  The data comes from USDA databases on corn yields.  For each week in the season, farmers will report the conditions of their field with one of five categories.  We want to estimate the proportions of fields rated with each of those five categories.

Predictions with Actual Trend | ~
:-------------------------:|:-------------------------:
![Excellent 2](https://github.com/themaninorange/cornyproject/blob/master/Plots/excellentlag2.png "Excellent Field Conditions 2 lag") | ![Good 1](https://github.com/themaninorange/cornyproject/blob/master/Plots/goodlag1.png "Good Field Conditions 1 lag")

## Plots

For the five different field condition categories of the data set - Very Poor, Poor, Fair, Good, and Excellent - there are four different plots in this folder.

### ARIMA

One of the models we worked with was the ARIMA model.  This is regression on the previous values, as well as the errors from the previous predictions as the predictive variables.  We didn't find this one to be particularly interesting.

[rating].png is a two-week forecast generated by the ARIMA models.

ARIMA Predictions | ~ | ~ | ~ | ~
:---:|:---:|:---:|:---:|:---:
![Very Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/verypoor.png "Very Poor ARIMA") | ![Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/poor.png "Poor ARIMA") |![Fair](https://github.com/themaninorange/cornyproject/blob/master/Plots/fair.png "Fair ARIMA") | ![Good](https://github.com/themaninorange/cornyproject/blob/master/Plots/good.png "Good ARIMA") | ![Excellent](https://github.com/themaninorange/cornyproject/blob/master/Plots/excellent.png "Excellent ARIMA")

### Support Vector Machines, 1 Lag

By shifting all of the observations down in relation to the position we are trying to predict, we can create a data set to make predictions on.  After training on the first part of the data set, we can see how the model performs on the rest.

[rating]lag1.png is a one-week-ahead forecast for each week for the entire testing data set.  The black line follows the actual values from the data set.  The blue and red points mark a one-week forecast by an SVM model from the previous week.  Blue points are within the RMSE for the model, while the red points are not.  These models took into account not only the previous week, but the week before that in order to make these predictions.

SVM 1 Lag Predictions | ~ | ~ | ~ | ~
:---:|:---:|:---:|:---:|:---:
![Very Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/verypoorlag1.png "Very Poor ARIMA") | ![Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/poorlag1.png "Poor ARIMA") |![Fair](https://github.com/themaninorange/cornyproject/blob/master/Plots/fairlag1.png "Fair ARIMA") | ![Good](https://github.com/themaninorange/cornyproject/blob/master/Plots/goodlag1.png "Good ARIMA") | ![Excellent](https://github.com/themaninorange/cornyproject/blob/master/Plots/excellentlag1.png "Excellent ARIMA")

### Support Vector Machines, 2 Lags

[rating]lag2.png is like [rating]lag1.png.  It is also only a one-week-ahead forecast, however the models involved took into account the previous week along with the two weeks before that in order to make the predictions.

SVM 2 Lag Predictions | ~ | ~ | ~ | ~
:---:|:---:|:---:|:---:|:---:
![Very Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/verypoorlag2.png "Very Poor ARIMA") | ![Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/poorlag2.png "Poor ARIMA") |![Fair](https://github.com/themaninorange/cornyproject/blob/master/Plots/fairlag2.png "Fair ARIMA") | ![Good](https://github.com/themaninorange/cornyproject/blob/master/Plots/goodlag2.png "Good ARIMA") | ![Excellent](https://github.com/themaninorange/cornyproject/blob/master/Plots/excellentlag2.png "Excellent ARIMA")

### Support Vector Machines, 1 Lag, Year 15

[rating]year15.png is a plot similar to [rating]lag1 and [rating]2.png, however these resulted when one year was used as a test set, while the 14 other years were used to build the models.  These models used the week prior and the week prior to that for each of the predictions.

SVM Year 15 Predictions | ~ | ~ | ~ | ~
:---:|:---:|:---:|:---:|:---:
![Very Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/verypooryear15.png "Very Poor ARIMA") | ![Poor](https://github.com/themaninorange/cornyproject/blob/master/Plots/pooryear15.png "Poor ARIMA") |![Fair](https://github.com/themaninorange/cornyproject/blob/master/Plots/fairyear15.png "Fair ARIMA") | ![Good](https://github.com/themaninorange/cornyproject/blob/master/Plots/goodyear15.png "Good ARIMA") | ![Excellent](https://github.com/themaninorange/cornyproject/blob/master/Plots/excellentyear15.png "Excellent ARIMA")

The predictions along with the trend lines are promising.  They show that the predictions can capture the majority of the detail of the graph.  Even in cases of high error, this usually arises during extreme events where the prediction is also for an extreme event, but it is either over or underestimated.
